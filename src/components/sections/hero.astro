---
import { basica, tabs } from "../../../informacion.json";
import SobreMi from "./sobreMi.astro";
import Tecnologias from "./tecnologias.astro";
import Experiencia from "./experiencia.astro";
import Proyectos from "./proyectos.astro";

import Maletin from "../icons/maletin.astro";
import Pastel from "../icons/pastel.astro";
import Calendario from "../icons/calendario.astro";

const { nombre, profesion, nickname, email, descripcion, foto, foto_banner, cumple, join } =
    basica;
---

<section>
    <div class="flex flex-col justify-center">
        <img
            class="w-full h-64 object-cover rounded-lg"
            src={foto_banner}
            alt="banner"
        />
        <div class="flex flex-row justify-between gap-3 mt-5">
            <img
                class="w-32 h-32 object-cover rounded-lg"
                src={foto}
                alt="rokthar"
            />
            <div class="flex flex-col">
                <h1 class="text-3xl font-black text-zinc-200">{nombre}</h1>
                <h2 class="text-xl font-normal text-zinc-500">{profesion}</h2>
                <p class="mt-3 text-zinc-300">{descripcion}</p>
                <a
                    class="text-zinc-200 bg-indigo-600 py-1 px-2 rounded-lg mt-2 w-fit hover:bg-indigo-500"
                    href={`mailto:${email}`}>{email}</a
                >
            </div>
        </div>
    </div>
    <div class="flex flex-row justify-center gap-5 mt-10 text-center">
        <span class="flex flex-row gap-1">
            <Maletin />
            <span class="text-zinc-400">{nickname}</span>
        </span>
        <span class="flex flex-row gap-1">
            <Pastel />
            <span class="text-zinc-400">{cumple}</span>
        </span>
        <span class="flex flex-row gap-1">
            <Calendario />
            <span class="text-zinc-400">{join}</span>
        </span>
    </div>
    <div class="flex flex-row justify-between align-center mt-5 mx-10 text-center">
        {
            tabs.map((tab) => (
                <a
                    class="w-full px-3 pt-3 pb-0.5 cursor-pointer hover:bg-zinc-800"
                    id={tab.id}
                >
                    <span id={`span_${tab.id}`} class="text-zinc-300">{tab.label}</span>
                </a>
            ))
        }
    </div>
    <article id="sobremiArticle">
        <SobreMi />
    </article>
    <article id="tecnologiasArticle">
        <Tecnologias />
    </article>
    <article id="experienciaArticle">
        <Experiencia />
    </article>
    <article id="proyectosArticle">
        <Proyectos />
    </article>
</section>

<script>
    const sobreMi = document.getElementById("sobre_mi");
    const tecnologias = document.getElementById("tecnologias");
    const experiencia = document.getElementById("experiencia");
    const proyectos = document.getElementById("proyectos");

    const span_sobre_mi = document.getElementById("span_sobre_mi");
    const span_tecnologias = document.getElementById("span_tecnologias");
    const span_experiencia = document.getElementById("span_experiencia");
    const span_proyectos = document.getElementById("span_proyectos");

    const SobreMiArticle = document.getElementById("sobremiArticle");
    const TecnologiasArticle = document.getElementById("tecnologiasArticle");
    const ExperienciaArticle = document.getElementById("experienciaArticle");
    const ProyectosArticle = document.getElementById("proyectosArticle");

    SobreMiArticle.classList.add("show");
    TecnologiasArticle.classList.add("hide");
    ExperienciaArticle.classList.add("hide");
    ProyectosArticle.classList.add("hide");

    span_sobre_mi.classList.add("active");
    span_tecnologias.classList.remove("active");
    span_experiencia.classList.remove("active");
    span_proyectos.classList.remove("active");

    sobreMi.addEventListener("click", () => {
        SobreMiArticle.classList.remove("hide");
        SobreMiArticle.classList.add("show");

        span_sobre_mi.classList.add("active");
        span_tecnologias.classList.remove("active");
        span_experiencia.classList.remove("active");
        span_proyectos.classList.remove("active");

        TecnologiasArticle.classList.remove("show");
        TecnologiasArticle.classList.add("hide");

        ExperienciaArticle.classList.remove("show");
        ExperienciaArticle.classList.add("hide");

        ProyectosArticle.classList.remove("show");
        ProyectosArticle.classList.add("hide");
    });

    tecnologias.addEventListener("click", () => {
        SobreMiArticle.classList.remove("show");
        SobreMiArticle.classList.add("hide");

        span_sobre_mi.classList.remove("active");
        span_tecnologias.classList.add("active");
        span_experiencia.classList.remove("active");
        span_proyectos.classList.remove("active");

        TecnologiasArticle.classList.remove("hide");
        TecnologiasArticle.classList.add("show");

        ExperienciaArticle.classList.remove("show");
        ExperienciaArticle.classList.add("hide");

        ProyectosArticle.classList.remove("show");
        ProyectosArticle.classList.add("hide");
    });

    experiencia.addEventListener("click", () => {
        SobreMiArticle.classList.remove("show");
        SobreMiArticle.classList.add("hide");

        span_sobre_mi.classList.remove("active");
        span_tecnologias.classList.remove("active");
        span_experiencia.classList.add("active");
        span_proyectos.classList.remove("active");

        TecnologiasArticle.classList.remove("show");
        TecnologiasArticle.classList.add("hide");

        ExperienciaArticle.classList.remove("hide");
        ExperienciaArticle.classList.add("show");

        ProyectosArticle.classList.remove("show");
        ProyectosArticle.classList.add("hide");
    });

    proyectos.addEventListener("click", () => {
        SobreMiArticle.classList.remove("show");
        SobreMiArticle.classList.add("hide");

        span_sobre_mi.classList.remove("active");
        span_tecnologias.classList.remove("active");
        span_experiencia.classList.remove("active");
        span_proyectos.classList.add("active");

        TecnologiasArticle.classList.remove("show");
        TecnologiasArticle.classList.add("hide");

        ExperienciaArticle.classList.remove("show");
        ExperienciaArticle.classList.add("hide");

        ProyectosArticle.classList.remove("hide");
        ProyectosArticle.classList.add("show");
    });
</script>

<style>
    .show {
        display: block;
    }
    .hide {
        display: none;
    }
    .active{
        border-bottom: 4px solid #4f46e5;
    }
</style>
